<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Books</title>
    <link rel="stylesheet" th:href="@{/public/css/bootstrap.min.css}">
</head>
<body>
<div class="container text-center">
    <h1 class="h1">Second Hand Book Platform</h1>
    <a href="/books/add" class="hyperlink">Add Book</a>
    <a href="/profile" class="hyperlink">Go to Profile</a>
</div>


<div>
    <div class="container text-center">
        <h2>Filter</h2>
        <form action=""  method="get"  class="form-group w-75">
            <label for="bookName">Book Name</label><input class="form-control" type="text" name="bookName" id="bookName" placeholder="Book Name">
            <label for="bookAuthor"> Book Author</label><input type="text"  class="form-control" name="bookAuthor" id="bookAuthor" placeholder="Book Author">
            <button type="button" value="submit" class=" mt-1 btn  btn-primary btn-block">Filter</button>
        </form>
    </div>

    <div id="resultTbl" class="mt-5 container">
        <table class="table table-bordered ">
            <tr class="bg-light">
                <th class="column-header">Book Name</th>
                <th class="column-header">Book Author</th>
                <th class="column-header">Major</th>
                <th class="column-header">Year Needed</th>
                <th class="column-header">Price</th>
                <th class="column-header">Image</th>
            </tr>
            <tr th:each="book,ittr:${books}" >
                <td th:text="${book.getBookName()}"></td>
                <td th:text="${book.getAuthor()}"></td>
                <td >null</td>
                <td th:text="${book.getYearNeed()}"></td>
                <td th:text="|Â¥${book.getPrice()}|"></td>
                <td class="table-row-cell">
                    <div class="align-content-center">
                        <img th:src="@{'/books/image/'+${book.getId()}}" th:alt="${book.getBookName()}" class="w-50">
                    </div>
<!--                    <form action="/books/delete" method="post" content="application/x-www-form-urlencoded" >-->
<!--                        <input type="number" name="book_id" id="book_id" th:value="${book.getId()}" hidden>-->
<!--                        <input type="submit"value="Remove"/>-->
<!--                    </form>-->
                </td>
                <td>
                    <form action="/books/buy/confirm" method="post" content="application/x-www-form-urlencoded">
                        <input type="number" name="book_id" id="buy_book_id" th:value="${book.getId()}" hidden>
                        <input type="submit" value="Buy"/>
                    </form>
                </td>
            </tr>
        </table>
    </div>



</div>

</body>
</html>